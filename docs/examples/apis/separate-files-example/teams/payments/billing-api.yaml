# Payments Team - Billing API Configuration
# Team: payments@example.com  
# Owner: Payments Team

ref: billing-api
name: "Billing API"
description: "Secure billing and payment processing API"
version: "v1.0.0"
labels:
  team: payments
  owner: payments-team
  compliance: pci-dss
  criticality: critical
  security_level: high
kongctl:
  protected: true

versions:
  - ref: billing-api-v1
    name: "v1.0.0"
    gateway_service:
      control_plane_id: "550e8400-e29b-41d4-a716-446655440000"
      id: "550e8400-e29b-41d4-a716-446655440006"
    spec:
      openapi: "3.0.0"
      info:
        title: "Billing API"
        version: "1.0.0"
        description: "Secure payment processing and billing management"
      paths:
        /billing/invoices:
          post:
            summary: "Create invoice"
            operationId: "createInvoice"
            security:
              - oauth2: ["billing:write"]
            responses:
              '201':
                description: "Invoice created"
        /billing/payments:
          post:
            summary: "Process payment"
            operationId: "processPayment"
            security:
              - oauth2: ["payments:write"]
            responses:
              '200':
                description: "Payment processed"

# Payment team manages sensitive documentation
api_documents:
  - ref: billing-api-security-guide
    api: billing-api
    title: "Billing API Security Guidelines"
    content: |
      # Billing API Security Guidelines
      
      ## PCI DSS Compliance
      
      This API is PCI DSS compliant and requires special handling:
      
      1. All requests must use TLS 1.2+
      2. API keys must be rotated every 90 days
      3. All transactions are logged for audit
      4. Rate limiting: 100 requests/minute per API key
      
      ## Authentication
      
      OAuth 2.0 with specific scopes:
      - `billing:read` - View billing information
      - `billing:write` - Create invoices
      - `payments:write` - Process payments
      
      ## Contact
      
      Security issues: security@payments-team.example.com