# Basic portal configuration example
# This demonstrates a simple portal resource definition with proper parent-child structure

portals:
  - ref: developer-portal
    name: "Developer Portal"
    description: "THE Developer portal for API documentation"
    authentication_enabled: false
    rbac_enabled: false
    default_api_visibility: public
    default_page_visibility: public
    auto_approve_developers: false
    auto_approve_applications: false
    
    # Portal pages - separate API resources with hierarchy support
    pages:
      - ref: docs
        slug: "docs"
        title: "Documentation"
        description: "Main documentation section for our APIs"
        content: |
          # Documentation
          
          Hello and Welcome to our comprehensive API documentation. Explore our guides and references below.
        visibility: "public"
        status: "published"
        children:
          - ref: getting-started
            slug: "getting-started"
            title: "Foo Getting Started"
            description: "Quick start guide for new developers"
            content: |
              # Getting Started
              
              This guide will help you get started with our APIs in just a few minutes.
              
              ## Quick Start
              1. Register for an account
              2. Create an application
              3. Subscribe to APIs
              4. Start making requests
            visibility: "public"
            status: "published"
            children:
              - ref: quick-start
                slug: "quick-start"
                title: "Quick Start Guide"
                description: "A brief introduction to using our APIs"
                content: |
                  # Quick Start Guide
                  
                  Follow these steps to quickly integrate with our APIs:
                  
                  1. Sign up for an account
                  2. Create your first application
                  3. Obtain API keys
                  4. Make your first API call
                visibility: "public"
                status: "published"
          - ref: api-reference
            slug: "api-reference"
            title: "API Reference"
            description: "Complete API endpoint documentation"
            content: |
              # API Reference
              
              Detailed documentation for all available API endpoints.
            visibility: "public"
            status: "published"
            children:
              - ref: authentication-guide
                slug: "authentication"
                title: "Authentication Guide"
                description: "Learn how to authenticate API requests"
                content: |
                  # Authentication
                  
                  Our APIs use OAuth 2.0 for secure authentication.
                  
                  ## Getting Started with OAuth
                  1. Register your application
                  2. Obtain client credentials
                  3. Request access tokens
                  4. Include tokens in API requests
                visibility: "public"
                status: "published"
      - ref: terms-of-service
        slug: "terms"
        title: "Terms of Service"
        description: "Legal terms and conditions for API usage"
        content: |
          # Terms of Service
          
          By using our APIs, you agree to these terms...
        visibility: "public"
        status: "published"
    
    # Portal customization - separate API resource
    customization:
      ref: portal-customization
      theme:
        name: "custom-theme"
        mode: "dark"
        colors:
          primary: "#FFFFFF"
      layout: "default"
      css: |
        /* Custom CSS for portal branding */
        .header { background-color: #1155CB; }
        .footer { padding: 20px; }
      menu:
        main:
          - path: "/docs"
            title: "Documentation"
            visibility: "public"
            external: true
          - path: "/getting-started"
            title: "Getting Started"
            visibility: "public"
            external: true

    ## Custom domain configuration - separate API resource
    #custom_domain:
    #  ref: portal-custom-domain
    #  hostname: "developer.example.com"
    #  enabled: true
    #  ssl:
    #    domain_verification_method: http

    ## Portal snippets - separate API resources
    #snippets:
    #  - ref: footer-snippet
    #    name: "footer"
    #    content: |
    #      <div class="custom-footer">
    #        <p>&copy; 2024 Example Corp. All rights reserved.</p>
    #        <p>Contact: support@example.com</p>
    #      </div>
