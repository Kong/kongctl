# Mixed layout - API definitions
# Separate file for API resources that reference base config

apis:
  - ref: core-api
    name: "Core Services API"
    description: "Central API for core business services"
    
    versions:
      - ref: core-v1
        name: "v1.0.0"
        version: "v1"
        publish_status: "published"
        
    publications:
      - ref: core-public-pub
        portal_id: public-portal  # References base config
        publish_status: "published"
        auth_strategy_ids:
          - main-oauth  # References base config
        
    implementations:
      - ref: core-primary-impl
        implementation_url: "https://api.example.com/core/v1"
        service:
          id: "c123e456-7890-1234-5678-90abcdef1234"
          control_plane_id: primary-cp  # References base config
          
  - ref: analytics-api
    name: "Analytics API"
    description: "Real-time analytics and reporting"
    
    versions:
      - ref: analytics-v1
        name: "v1.0.0"
        version: "v1"
        publish_status: "published"
        
    publications:
      - ref: analytics-public-pub
        portal_id: public-portal
        publish_status: "published"
        auth_strategy_ids:
          - main-oauth
        auto_approve_applications: true
        
    implementations:
      - ref: analytics-primary-impl
        implementation_url: "https://api.example.com/analytics/v1"
        service:
          id: "a789b012-3456-7890-1234-567890abcdef"
          control_plane_id: primary-cp