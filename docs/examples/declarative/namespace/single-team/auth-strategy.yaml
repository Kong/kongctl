# Single Team Auth Strategy Example
# Shows how to set namespace on an Auth Strategy resource

application_auth_strategies:
  - ref: api-key-auth
    name: "API Key Authentication"
    display_name: "API Key"
    strategy_type: key_auth
    configs:
      key-auth:
        key_names:
          - "x-api-key"
          - "apikey"
    labels:
      type: key-auth
      usage: internal
    kongctl:
      namespace: logistics-team  # Auth strategy managed by logistics team
      protected: false          # Can be modified
  
  - ref: oauth2-auth
    name: "OAuth 2.0 Authentication"
    display_name: "OAuth 2.0"
    strategy_type: openid_connect
    configs:
      openid-connect:
        issuer: "https://partners.example.com"
        scopes:
          - "openid"
          - "profile"
          - "read:shipments"
          - "write:shipments"
        credential_claim:
          - "client_id"
          - "claim2"
        auth_methods:
          - "bearer"
          - "client_credentials"
    labels:
      type: oauth2
      usage: partners
    kongctl:
      namespace: logistics-team  # Same namespace as other resources
      protected: true           # Protected from accidental deletion
