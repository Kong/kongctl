# Single Team Auth Strategy Example
# Shows how to set namespace on an Auth Strategy resource

application_auth_strategies:
  - ref: api-key-auth
    name: "API Key Authentication"
    display_name: "API Key"
    description: "Simple API key authentication for internal services"
    strategy_type: key_auth
    configs:
      key_names:
        - "x-api-key"
        - "apikey"
      key_in_body: false
      hide_credentials: true
    auth_methods:
      - name: key_auth
        display_name: "API Key"
        # Auth config is defined by the specific auth method
    labels:
      type: key-auth
      usage: internal
    kongctl:
      namespace: logistics-team  # Auth strategy managed by logistics team
      protected: false          # Can be modified
  
  - ref: oauth2-auth
    name: "OAuth 2.0 Authentication"
    display_name: "OAuth 2.0"
    description: "OAuth 2.0 authentication for partner integrations"
    strategy_type: openid_connect
    configs:
      openid_connect:
        issuer: "https://partners.example.com"
        client_id: "logistics-partner-client"
        client_secret: "logistics-partner-secret"
        scopes:
          - "openid"
          - "profile"
          - "read:shipments"
          - "write:shipments"
    labels:
      type: oauth2
      usage: partners
    kongctl:
      namespace: logistics-team  # Same namespace as other resources
      protected: true           # Protected from accidental deletion